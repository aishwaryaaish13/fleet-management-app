<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            padding: 20px;
        }
        h2 {
            text-align: center;
            margin-bottom: 20px;
    
        }
        .navbar {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            text-align: center;

        }
        .navbar select, .navbar button {
            padding: 8px;
            font-size: 16px;
        }
        .container {
            display: flex;
            gap: 20px;
        }
        .sidebar {
            flex: 1;
            border: 1px solid #ccc;
            padding: 20px;
            border-radius: 5px;
            height: fit-content;
            border-right: 1px solid #999;
        }
        .sidebar input, .sidebar select {
            width: 100%;
            padding: 8px;
            margin: 10px 0;
            box-sizing: border-box;
        }
        .sidebar button {
            width: 100%;
            padding: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .sidebar button:hover {
            background-color: #218838;
        }
        .cards {
            flex: 3;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        .card {
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 15px;
            box-shadow: 2px 2px 12px rgba(0,0,0,0.1);
            text-align: center;
        }
        .card button {
            margin: 5px;
            padding: 8px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .card button:hover {
            background-color: #0056b3;
        }
        img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-bottom: 1px solid #ccc;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h2> Fleet Dashboard</h2>
    <div class="navbar">
        <select id="filter-category" onchange="applyFilters()">
            <option >All</option>
            <option >Trucks</option>
            <option>Auto</option>
            <option>Bus</option>
            <option>car</option>

        </select>
        <select id="filterAvail"onchange="applyFilters()">
            <option >All</option>
            <option >Available</option>
            <option>Unavailable</option>

        </select>
        <button onclick="clearFilter()">Clear Filters  </button>

    </div>
    <div class="container">
        <div class="sidebar">
            <h3> Add Fleet</h3>
            <input type="text"id="reg"placeholder="Registration Number"/>
            <select id="catrgory">
                <option>Auto</option>
                <option>Bus</option>
                <option>Car</option>
                <option>Truck</option>
            </select>
            <input type="text" id="driver"placeholder="Driver Name"/>
            <select id="available">
                <option>Available</option>
                <option>Unavailable</option>
            </select>
            <button onclick="addFleet()">Add Fleet</button>
        </div>
        <div class="cards" id="cardArea"></div>
    </div>
    <script >
        let fleetData=[];
        function addFleet()
{
    let r=document.getElementById("reg").value;
    let c=document.getElementById("catrgory").value;
    let d=document.getElementById("driver").value;
    let a=document.getElementById("available").value;
    if(r===""||d==="")
{
    alert("Please fill all fields");
    return;
}
let obj={
    id:Date.now(),
    reg:r,
    category:c,
    driver:d,
    available:a
}
fleetData.push(obj);
renderCards(fleetData);
document.getElementById("reg").value="";
document.getElementById("driver").value="";
}  
function renderCards(data){
    let area=document.getElementById("cardArea");
    area.innerHTML="";
    data.forEach(f=>{
        let div=document.createElement("div");
        div.className="card";
        div.innerHTML=`
        <img src="https://coding-platform.s3.amazonaws.com/dev/lms/tickets/5e80fcb6-3f8e-480c-945b-30a5359eb40e/JNmYjkVr3WOjsrbu.png" alt="Vehicle Image"/>
        <p><b>Registration:</b> ${f.reg}</p>
        <p><b>Category:</b> ${f.category}</p>
        <p><b>Driver:</b> ${f.driver}</p>
        <p><b>Status:</b> ${f.available}</p>
        <button onclick="updateDriver(${f.id})">Update Driver</button>
        <button onclick="changeAvail(${f.id})">Change Availability</button>
        <button onclick="deleteFleet(${f.id})">Delete</button>
        `;
        area.appendChild(div);
    })
}
function updateDriver(id){
    let newDriver=prompt("Enter new driver name:");
    if(newDriver){
        fleetData=fleetData.map(f=>{
            if(f.id===id){
                f.driver=newDriver;
            }
            return f;
        });
        applyFilters();
    }


}
function changeAvail(id){
    fleetData=fleetData.map(f=>{
        if(f.id===id){
            f.available=f.available==="Available"?"Unavailable":"Available";
        }
        return f;
    });
    applyFilters();
}
function deleteFleet(id){
    if(!confirm("Are you sure you want to delete this fleet?")){
        return;
    }
    fleetData=fleetData.filter(f=>f.id!==id);
    applyFilters();
}
function applyFilters(){
    let category=document.getElementById("filter-category").value;
    let avail=document.getElementById("filterAvail").value;
    let filteredData=fleetData;
    if(category!=="All"){
        filteredData=filteredData.filter(f=>f.category===category);
    }
    if(avail!=="All"){
        filteredData=filteredData.filter(f=>f.available===avail);
    }
    renderCards(filteredData);
}
function clearFilter(){
    document.getElementById("filter-category").value="All";
    document.getElementById("filterAvail").value="All";
    renderCards(fleetData);
}

</script>
</body>
</html>